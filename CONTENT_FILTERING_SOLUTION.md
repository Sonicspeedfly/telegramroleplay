# üõ°Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞
Gemini API –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø–æ–º–µ—Ç–∫–æ–π `PROHIBITED_CONTENT` –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ `PROHIBITED_CONTENT`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 2. –§—É–Ω–∫—Ü–∏—è `create_safe_prompt()`
```python
def create_safe_prompt(self, original_prompt: str) -> str:
    # –ó–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª–æ–≤–∞ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏
    # –î–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

### 3. –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–ª–æ–≤
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–ª–æ–≤–∞:
- `nsfw`, `—Å–µ–∫—Å`, `—Å–µ–∫—Å—É–∞–ª—å–Ω—ã–π`, `—ç—Ä–æ—Ç–∏–∫–∞`
- `–ø–æ—Ö–æ—Ç–ª–∏–≤—ã–π`, `—Ä–∞—Å–ø—É—Ç–Ω—ã–π`, `–≤—É–ª—å–≥–∞—Ä–Ω—ã–π`
- `horny`, `porn`, `erotic`, `vulgar`
- –ò –¥—Ä—É–≥–∏–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞" —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏:
- –ò–∑–±–µ–≥–∞–π—Ç–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–≥–æ –∏–ª–∏ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Gemini API
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
1. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–æ–º–ø—Ç–∞
2. –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª–æ–≤–∞ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ `[–æ–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä—ã—Ç–æ]`
3. –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

### –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ: "‚ùå –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–∑–±–µ–≥–∞–π—Ç–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞."
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–∫—Ä—ã—Ç—ã—Ö –¥–µ—Ç–∞–ª—è—Ö

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–µ–∫—Å—É–∞–ª—å–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –§–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ, –Ω–æ –ø—Ä–∏–µ–º–ª–µ–º—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è

### ‚ùå –ß–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å:
- –°–µ–∫—Å—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏–ª–∏ —ç—Ä–æ—Ç–∏–∫—É
- –í—É–ª—å–≥–∞—Ä–Ω—ã–µ –∏–ª–∏ –Ω–µ–ø—Ä–∏–ª–∏—á–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
- NSFW —Ç–µ–º—ã –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
- –û–ø–∏—Å–∞–Ω–∏—è, –Ω–∞—Ä—É—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
```python
if "PROHIBITED_CONTENT" in str(error):
    # –°–æ–∑–¥–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ–º–ø—Ç
    safe_prompt = self.create_safe_prompt(original_prompt)
    # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í—Å–µ —Å–ª—É—á–∞–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ –û–±—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∞–≤–∏–ª–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–Ω–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ 